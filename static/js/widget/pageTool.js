/*! app_index 09-11-2015 */
var PageTool=function(a){var b=document,c=window,d=function(a){this.tool=this._extends({pageTotal:8,pageNow:1,pageBoxDiv:"page_box",pagePrevDiv:"page_prev",pageNextDiv:"page_next",pageBtnClass:"page_num btn",pageBoxWrapDiv:"page_box_wrap",dataUrl:""},a),this.pageTotal=this.tool.pageTotal,this.pageNum=this.pageTotal>5?5:this.pageTotal,this.pageBox=b.getElementById(this.tool.pageBoxDiv),this.pagePrev=b.getElementById(this.tool.pagePrevDiv),this.pageNext=b.getElementById(this.tool.pageNextDiv),this.pageBoxWrap=b.getElementById(this.tool.pageBoxWrapDiv),this.btnClass=this.tool.pageBtnClass,this.pageIndex=this.tool.pageNow,this.dataUrl=this.tool.dataUrl,this._init()};return d.prototype={_scriptOnload:b.createElement("script").readyState?function(a,b){var c=a.onreadystatechange;a.onreadystatechange=function(){var d=a.readyState;("loaded"===d||"complete"===d)&&(a.onreadystatechange=null,c&&c(),b.call(this))}}:function(a,b){a.addEventListener("load",b,!1)},head:b.getElementsByTagName("head")[0]||b.documentElement,_getScript:function(a,c){var d=b.createElement("script"),e=this.head;return d.src=a,d.async=!0,this._scriptOnload(d,function(){c&&c.call(d,""),e&&d.parentNode&&e.removeChild(d)}),e.insertBefore(d,e.firstChild),d},_fillData:function(a){return a},_getData:function(a,b,d){var e=this;if(e._dataCallbackName="sqdatas2015",c[e._dataCallbackName]=function(a){b&&b(a)},d)var f=a+"&jsoncallback="+e._dataCallbackName;else var f=a+"&callback="+e._dataCallbackName;e._getScript(f)},_class:function(a,c,d){var e,f,g,h=[];if(null==c&&(c=b.body),null==d&&(d="*"),c.getElementsByClassName)return c.getElementsByClassName(a);if(c.querySelectorAll)return c.querySelectorAll("."+a);for(e=c.getElementsByTagName(d),f=e.length,g=new RegExp("(^|\\s)"+a+"(\\s|$)"),i=0,j=0;i<f;i++)g.test(e[i].className)&&(h[j]=e[i],j++);return h},_extends:function(a,b){for(property in b)a[property]=b[property];return a},_addEvent:function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},pageRender:function(a,b,c){for(var d=this,e=d.pageBoxWrap,f="",g=a;b+1>g;g++){var h=g===c?"page_num_select":"";f+='<a href="javascript:;" class="page_num '+h+'">'+g+"</a>"}e.innerHTML=f},pageRange:function(a){var b=this,c=b.pageNum,d=b.pageTotal;6>d?b.pageRender(1,c,a):4>a?b.pageRender(1,c,a):a>d-2?b.pageRender(d-4,d,a):b.pageRender(a-2,a+2,a)},pageChange:function(a,b,c){var d=this,e=d.pageTotal,f=d.tool;1==d.pageIndex&&0>c||d.pageIndex==e&&c>0||(d.pageIndex+=c,(1==d.pageIndex&&0>c||d.pageIndex==e&&c>0)&&(a.className=d.btnClass+" unclick"),b.className=d.btnClass,d.pageRange(d.pageIndex),d.pageIndex&&f.onIndexChanged&&f.onIndexChanged.call(this,d.pageIndex))},pageEvent:function(){function a(a){1==a?(g.className=b.btnClass,f.className=b.btnClass+" unclick"):a==e?(f.className=b.btnClass,g.className=b.btnClass+" unclick"):(f.className=b.btnClass,g.className=b.btnClass)}var b=this,c=b.pageBoxWrap,d=(c.getElementsByTagName("a"),b.pageNum,b.pageIndex),e=b.pageTotal,f=b.pagePrev,g=b.pageNext,h=b.tool;a(d),b.pageRange(d),c.onclick||f.onclick||g.onclick||(c.onclick=function(c){var c=c||event,d=c.target||c.srcElement;if("page_num "==d.className){var e=parseInt(d.innerHTML);return a(e),b.pageIndex==e?void 0:(b.pageIndex=e,b.pageRange(e),h.onIndexChanged&&h.onIndexChanged.call(this,e),!1)}return c.stopPropagation(),!1},f.onclick=function(a){var a=a||event,c=a.target||a.srcElement;b.pageChange(c,g,-1)},g.onclick=function(a){var a=a||event,c=a.target||a.srcElement;b.pageChange(c,f,1)})},getDatas:function(a){var b=this,c=b.pageIndex,a=a+"&page="+c;b._getData(a,function(a){console.log(a)})},_init:function(){var a=this.pageBoxWrap,b=this.pagePrev,c=this.pageNext;a.onclick=null,b.onclick=null,c.onclick=null,a.innerHTML="",this.pageEvent()},destructor:function(){var a=this.pageBoxWrap,b=this.pagePrev,c=this.pageNext;a.onclick=null,b.onclick=null,c.onclick=null,a.innerHTML=""}},d}();